<div class="phils-random-names-content">
    {{#if hasCategories}}
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
        <p style="margin: 0;">{{localize "PRN.App.ChooseCategory"}}</p>
    </div>
    <div class="category-list">
        {{#if groups.items.length}}
        <h3 class="group-header" style="border-bottom: 1px solid var(--color-border-light-2); margin: 5px 0; padding-bottom: 2px;">{{localize "PRN.App.GroupItems"}}</h3>
        {{#each groups.items}}
            {{> categoryItem this=this}}
        {{/each}}
        {{/if}}

        {{#if groups.general.length}}
        <h3 class="group-header" style="border-bottom: 1px solid var(--color-border-light-2); margin: 10px 0 5px 0; padding-bottom: 2px;">{{localize "PRN.App.GroupGeneral"}}</h3>
        {{#each groups.general}}
            {{> categoryItem this=this}}
        {{/each}}
        {{/if}}

        {{#if groups.names.length}}
        <h3 class="group-header" style="border-bottom: 1px solid var(--color-border-light-2); margin: 10px 0 5px 0; padding-bottom: 2px;">{{localize "PRN.App.GroupNames"}}</h3>
        {{#each groups.names}}
            {{> categoryItem this=this}}
        {{/each}}
        {{/if}}
    </div>

    {{#*inline "categoryItem"}}
        <div class="category-item {{#if this.isComplex}}complex-category{{else}}simple-category{{/if}}"
            data-category="{{#if this.isComplex}}{{this.name}}{{else}}{{this.journal.id}}{{/if}}">

            <!-- Column 1: Name -->
            <div class="category-name">
                <i class="{{#if this.isComplex}}fas fa-users{{else}}fas fa-book-open{{/if}} fa-fw"></i> {{this.name}}
            </div>

            <!-- Column 2: Controls (Options + Button) -->
            <div class="category-controls">

                {{#if this.isComplex}}
                <!-- Complex Options -->
                <div class="complex-options">
                    <div class="gender-select">
                        <label><input type="radio" name="gender-{{this.name}}" value="male"> ♂</label>
                        <label><input type="radio" name="gender-{{this.name}}" value="female"> ♀</label>
                        <label><input type="radio" name="gender-{{this.name}}" value="any" checked> ⚥</label>
                    </div>
                    <div class="surname-select">
                        <label><input type="checkbox" name="surname-{{this.name}}" checked> Nachname</label>
                    </div>
                </div>
                <button type="button" data-action="generateComplex">
                    <i class="fas fa-dice"></i>
                </button>

                {{else}}
                <!-- Simple Options (Empty but follows structure) -->
                <div class="complex-options">
                    <!-- Spacer -->
                </div>
                <button type="button" data-action="generateSimple" data-journal-id="{{this.journal.id}}">
                    <i class="fas fa-dice"></i>
                </button>
                {{/if}}

            </div>
        </div>
    {{/inline}}
    {{else}}
    <div style="text-align: center; padding: 20px;">
        <p class="notification warning">{{localize "PRN.App.NoFolder"}}</p>
        <button type="button" data-action="create">
            <i class="fas fa-magic"></i> {{localize "PRN.App.CreateFolder"}}
        </button>
    </div>
    {{/if}}

    <div class="footer-actions">
        <button type="button" data-action="createComplexTemplate" title="{{localize 'PRN.App.TitleComplex'}}">
            <i class="fas fa-plus"></i> <i class="fas fa-users"></i> {{localize "PRN.App.ButtonNPC"}}
        </button>
        <button type="button" data-action="createSimpleTemplate" title="{{localize 'PRN.App.TitleSimple'}}">
            <i class="fas fa-plus"></i> <i class="fas fa-list"></i> {{localize "PRN.App.ButtonList"}}
        </button>
        <button type="button" data-action="openGenerator" title="{{localize 'PRN.Generator.Title'}}">
            <i class="fas fa-magic"></i> {{localize "PRN.App.ButtonGenerator"}}
        </button>
    </div>
</div>